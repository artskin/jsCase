<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
  <meta name="renderer" content="webkit">
  <title>js在线调试</title>
  <meta name="description" content="首页描述"/>
  <meta name="keywords" content="首页关键词"/>
  <meta name="author" content="Web Layout:amu"/>
  <link rel="stylesheet" href="style/case.css">
</head>
<body>

<h3>1.定时器</h3>
<pre><button class="run">run</button><code class="javascript" contenteditable="true"> "use strict";
  var arr = [0,1,2,3];
  for(let i=0; i< arr.length; i++){
    setTimeout(function(){
      console.log("case1",i)
    },i*1000)
  }
</code></pre>

<h3>2.数组去重</h3>
<pre><button class="run">run</button><code class="javascript" contenteditable="true"> "use strict";
  var items = [1,'a','b',9,3,8,5,6,7,4,2,0];
  var lists = [0,'a',1,10,20,3,40,5,60,6];
  var sameArr=[];
  var diffArr=[];
  for(let i=0; i < items.length; i++){
    if(lists.indexOf(items[i]) != -1){
      sameArr.push(items[i]);
    }
    if(!lists.includes(items[i])){
      diffArr.push(items[i])
    }
  }
  console.log("sameArr",sameArr);
  console.log("diffArr",diffArr);
</code></pre>

<h3>3.数组排序</h3>
<pre><button class="run">run</button><code class="javascript" contenteditable="true"> "use strict";
  var arr = ['c',3,1,4,'v',2,5];
  function quick(arr){
    if(arr.length<=1){
      return arr;
    }
    var left = [];
    var right = [];
    var base = arr[0];
    for(var i=1;i < arr.length; i++){
      // 判决条件
      if(arr[i]>base){
        right.push(arr[i]);
      }else {
        left.push(arr[i])
      }
    }
    return quick(left).concat(base,quick(right));
  }
  console.log(quick(arr));
</code></pre>

<h3>4.js深度拷贝</h3>
<pre><button class="run">run</button><code class="javascript" contenteditable="true"> "use strict";
  var animal = {a:10,b:20,c:30}
  var people = animal;
  console.log("people",people);
  people.a = 100;

  console.log("people:",people)
  console.log("animal:",animal);
  console.log("----------")

  var dog = JSON.parse(JSON.stringify(animal))
  dog.b = 200
  console.log("animal:",animal);
  console.log("dog",dog)
</code></pre>
<h3>5.斐波那契额数列</h3>
<pre><button class="run">run</button><code class="javascript" contenteditable="true"> "use strict";
  function feibo(len) { 
    var fbarr = [1,1];
    for(let n =2;n < len;n++){
      fbarr[n] = fbarr[n-1]+fbarr[n-2];
    }
    return fbarr;
  }
  console.log(feibo(30));
</code></pre>
<h3>6.js执行顺序</h3>
<pre><button class="run">run</button><code class="javascript" contenteditable="true"> "use strict";
  var a="001";
  console.log("a",a);
  setTimeout(function(){
    console.log("setTimeout.a",a)
  },0);
  var b="002";
  console.log("b",b);
  //Promise
  new Promise(function executor(resolve) {
    console.log(10);
    for( var i=0 ; i<5 ; i++ ) {
      console.log("Promise.for",i)
      i == 4 && resolve();
    }
    console.log(20);
  }).then(function() {
    console.log("Promise.then",5);
  });
  
  var c="003";
  console.log("c",c);
</code></pre>
<h3>7.js的循环</h3>
<pre><button class="run">run</button><code class="javascript" contenteditable="true"> "use strict";
  var arr = ['a','b','c','d'];
  Array.prototype.qq = 10;
  
  for(let i=0;i < arr.length;i++){
    if(i == 3) break;
    console.log(i,arr[i]);
  }
  console.log("-----分割线2-----")
  arr.forEach(function(val){
    console.log(val);//无法 break
  });
  console.log("-----分割线3-----")
  for(let i in arr){
    //for in循环会把某个类型的原型(prototype)中方法与属性给遍历出来
    console.log(arr[i])
  }
  console.log("-----分割线4-----")
  
  let obj = {aa:1,bb:2,cc:3,dd:4};
  Object.prototype.score = 97;
  
  console.log(obj);
  for(let key in obj){
    console.log(key,obj[key])
  }
  console.log("-----分割线5-----")
  //for ... of 遍历数组
  for(let item of arr){
    console.log(item)
  }
  var hi ="hello world"
  //for ... of 遍历字符串
  for(let item of hi){
    //console.log(item)
  }
  //for ... of 还可以遍历map/ser/dom
</code></pre>
   
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="js/case.js"></script>
<script>
  $(function(){
    var data={
      code:""
    };

    $('pre code').each(function(i, block) {
      $(this).html("<ul><li>" + $(this).html().replace(/\n/g,"\n</li><li>") +"\n</li></ul>");
      hljs.highlightBlock(block);
    });

    $(".run").click(function(){
      //console.log($(this).next("code").text());
      data.code = $(this).next("code").text();
      new Function(
        data.code
      )();
    })

  })
</script>
</body>
</html>